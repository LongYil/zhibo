<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts PUBLIC
	"-//Apache Software Foundation//DTD Struts Configuration 2.3//EN"
	"http://struts.apache.org/dtds/struts-2.3.dtd">

<struts>

    <constant name="struts.enable.DynamicMethodInvocation" value="true" />
    <constant name="struts.devMode" value="false" />
    <constant name="struts.i18n.encoding" value="UTF-8"></constant>
    <constant name="struts.action.excludePattern" value="/ws/.*,ws://.*"></constant>
 			
	<package name="first" namespace="/" extends="struts-default">
	
	</package>

	<package name="jsonaction" namespace="/"  extends="json-default">
	
				
			<interceptors>
			     <interceptor name="json" class="org.apache.struts2.json.JSONInterceptor"/> 
			     <interceptor name="login" class="cn.lxy.action.CheckLoginInterceptor"/>
			           <interceptor-stack name="teamwareStack">
			               <interceptor-ref name="defaultStack"/>
			               <interceptor-ref name="login"/>
			           </interceptor-stack>
			   </interceptors>
			<default-interceptor-ref name="teamwareStack"/>
			
			<global-results>
  		         <result name="pleaselogin1" type="redirect">/course_findRecentCourceTemp.action</result> 
  		         <result name="watchTemp1" type="redirect">/course_findRecentCource.action</result> 
  		         <result name="pleaselogin2" type="redirect">/course_findPastCourceTemp.action</result> 
  		         <result name="watchTemp2" type="redirect">/course_findPastCource.action</result> 
  		         <result name="pleaselogin3" type="redirect">/exam_studentFindAllTemp.action</result> 
  		         <result name="analyseExamTemp" type="redirect">/exam_studentFindAll.action</result>
  		          
  		         <result name="studentPersonalCenter" type="redirect">/personal_center.jsp</result> 
  		         <result name="teacherPersonalCenter" type="redirect">/teacher.jsp</result> 
  		         <result name="administratorPersonalCenter" type="redirect">/administrator.jsp</result> 
 	        </global-results>
 	        
			<action name="carousel_*" class="carouselAction" method="{1}">
				<result name="success">/index.jsp</result>
				<result name="aaa">/test.jsp</result>
			</action>
			
			<action name="discuss_*" class="discussAction" method="{1}">
				<result name="success">/index.jsp</result>
			</action>
			
			<action name="manager_*" class="managerAction" method="{1}">
				<result name="initialization">/index.jsp</result>
			</action>

			<action name="addpo_*" class="addPoAction" method="{1}">
				<result name="success">/teacher.jsp</result>
			</action>	
			
			<action name="login_*" class="loginAction" method="{1}">
				<result name="student" type="redirect">/index.jsp</result>
				<result name="teacher" type="redirect">/teacher.jsp</result>
				
				<result type="json" name="preLogin"><param name="root">resultinfo</param></result>
			</action>
			   
		   <action name="student_*" class="studentAction" method="{1}"> 
				<result name="findAll">/studentmanager.jsp</result>
				<result name="findByName">/studentquery.jsp</result>
				<result name="add" type="redirect">/index.jsp</result>
				<result name="student" type="redirect">/index.jsp</result>
				<result name="updateBasicInfo" type="redirect">/personal_center.jsp</result>
				<result name="previewStudentIcon" type="redirect">/personal_center.jsp</result>
				<result name="saveStudentIcon" type="redirect">/personal_center.jsp</result>

		        <result type="json" name="ajaxresult1"><param name="root">resultinfo</param></result>  
		        <result type="json" name="checkAccount"><param name="root">resultinfo</param></result>  
		        <result type="json" name="getVerificationCode"><param name="root">resultinfo</param></result>  
		        <result type="json" name="checkVerificationCode"><param name="root">resultinfo</param></result>  
		        <result type="json" name="updatePassword"><param name="root">resultinfo</param></result>  
		   </action>

		   <action name="teacher_*" class="teacherAction" method="{1}">
				<result name="findAll">/teachermanager.jsp</result>
				<result name="preUpdate">/addteacher.jsp</result>
				<result name="selfInfo">/teacherinfo.jsp</result>
				<result name="findByName">/teacherquery.jsp</result>
				<result name="addTeacher">/addteacher.jsp</result>
				
				<result name="back_requery">teacher_requery.action</result>
				<result name="back_findAll">teacher_findAll.action</result>
				
				<result type="json" name="delete"><param name="root">resultinfo</param></result>
				<result type="json" name="updateInfo"><param name="root">resultinfo</param></result>
				<result type="json" name="updatePassword"><param name="root">resultinfo</param></result>
				<result type="json" name="saveInfo"><param name="root">resultinfo</param></result>
		   </action>
		   
		   <action name="exam_*" class="examAction" method="{1}">
				<result name="findAll">/exammanager.jsp</result>
				<result name="teacherFindAll">/teacherexammanager.jsp</result>
				<result name="findByName">/examquery.jsp</result>
				<result name="save">/addexam.jsp</result>
				<result name="studentFindAll">/test_v1.jsp</result>
				<result name="analyseExam">/questions-sublime.jsp</result>
				<result name="studentFindAllTemp">/test_v2.jsp</result>
				
				<result type="json" name="calculateResult"><param name="root">resultinfo</param></result>
				<result type="json" name="delete"><param name="root">resultinfo</param></result>
		   </action>

		   <action name="note_*" class="noteAction" method="{1}">
			    <result name="success">/index.jsp</result>
			    <result name="aaa">/test.jsp</result>
			    <result type="json" name="delete"><param name="root">resultinfo</param></result>
		   </action>
		   
		   <action name="course_*" class="courseAction" method="{1}">
				<result name="save">course_findByTeacherId.action</result>
				<result name="findByTeacherId">/livecoursemanager.jsp</result>
				<result name="findByPageNumber">/livecoursemanager.jsp</result>
				<result name="teacherFindByInfo">/livecoursequery.jsp</result>
				<result name="findByInfo">/livecoursequery.jsp</result>
				<result name="preUpdate">/updatecourse.jsp</result>
				<result name="findAll">/alllivecourse.jsp</result>
				<result name="findRecentCource">/index_v1.jsp</result>
				<result name="findRecentCourceTemp">/index_v2.jsp</result>
				<result name="findPastCource">/review_v1.jsp</result>
				<result name="findPastCourceTemp">/review_v2.jsp</result>
				<result name="watch">/live.jsp</result>
				<result name="update">/course_findByTeacherId.action</result>
				<result name="showInfo">/viewcourse.jsp</result>
				<result name="teacherFindPastCource">/pastcoursemanager.jsp</result>
				
				<result type="json" name="delete"><param name="root">resultinfo</param></result>
		   </action>
		   
	</package>
</struts>